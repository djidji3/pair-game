<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Datum-stopper</title>
</head>

<body>
    <h1>Datum-stopper feladatok</h1>

    <div>


        <h2 class="stopper">
            <!-- itt jelenik meg  stopperora -->
            00:00:00

        </h2>

        <h2 class="clock3">
            <!-- itt jelenik meg  stopperora -->
            00:00:00

        </h2>
    </div>
    <div>
        <button class="start-stop-btn">Start-Stop stopper</button>
    </div>

    <script>
        // SEGEDFUGGVENY: Tíznél kisebb számok kiegészítése 0 -val.
        const padNumbers = (num) => {
            return num < 10 ? `0${num}` : `${num}`;
        };


        // Stopperóra.
        let stopperTime = 0;
        let stopperIsRunning = false;
        setInterval(() => {
            if (!stopperIsRunning) {
                return;
            }

            stopperTime++;
            const seconds = padNumbers(stopperTime % 60);
            const minutes = padNumbers(Math.floor(stopperTime / 60) % 60);
            const hours = padNumbers(Math.floor(stopperTime / 3600));
            const time = `${[hours, minutes, seconds].join(':')}`;
            const stopperFace = document.querySelector('.stopper');
            stopperFace.textContent = time;
        }, 1000);

        /* kivalasztom a gombot es rateszem az esemenyfigyeles */
        document.querySelector('.start-stop-btn').addEventListener('click', () => {
            if (stopperIsRunning) {
                stopperIsRunning = false;
                stopperTime = 0;
            } else {
                stopperIsRunning = true;
            }
        });


        /*  Egy új Date object: */
        const timeCounter = new Date(2020, 0, 0, 0, 0, 0, 0);
        /* idő kiírás: */
        const clock3 = document.querySelector('.clock3');
        const displayTime = () => clock3.innerHTML = timeCounter.toTimeString().slice(3, 8);
        /* időmérés:  */
        const startTheClock = () => clockrunner = setInterval(runTimer, 1000);
        const runTimer = () => {
            timeCounter.setSeconds(timeCounter.getSeconds() + 1);
            displayTime();
        };
        /*  (a percek maguktól növekszenek minden 60. másodperc után) */
        /* Óra leállítása: */
        const stopTheClock = () => clearInterval(clockrunner);
    </script>
</body>

</html>